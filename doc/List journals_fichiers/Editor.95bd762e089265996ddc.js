!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2a59aa50-01fd-4a4f-9e64-7b1b48576a2e",e._sentryDebugIdIdentifier="sentry-dbid-2a59aa50-01fd-4a4f-9e64-7b1b48576a2e")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.347.0"},(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1080],{73317:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(14041),a=n(52114),i=n(10880),o=n(50152);const l={ErrorBadge:"ErrorBadge-Y8jC6COOQiI"};const s=function({className:e,tooltip:t}){const n=(0,a.A)(l,"ErrorBadge");return t?r.createElement(o.A,{content:t},r.createElement(i.A,{className:n("&",e),name:"alert-triangle"})):r.createElement(i.A,{className:n("&",e),name:"alert-triangle"})}},50152:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(14041),a=n(23250);const i=r.memo((function(e){return r.createElement(a.Ay,{...e,arrow:!1,delay:[800,200],offset:[0,5]})}))},30309:(e,t,n)=>{n.d(t,{A:()=>O});var r=n(92583),a=n(56334);const i=a.z.object({api:a.z.object({file:a.z.string().describe("The target endpoint's OAS filename."),method:a.z.nativeEnum(r.B1),operationId:a.z.string().describe("The target endpoint's operationId."),url:a.z.string()}),category:a.z.object({title:a.z.string()}),title:a.z.string()}),o=(a.z.object({all:a.z.array(i),recommended:a.z.array(i)}),a.z.object({file:a.z.string().describe("OAS file location in filesystem."),operationId:a.z.string().describe("The target endpoint's operationId.")}).required({file:!0,operationId:!0}),a.z.object({message:a.z.string()}),{"getting-started":0,authentication:1,"my-requests":2});var l=n(14041),s=n(33664),c=n(5430),d=n(63784),u=n(58597),m=n(927),p=n(79954),g=n(51046),f=n(99942),b=n.n(f),h=n(86090),v=n(52114),E=n(83420),y=n(73317),S=n(10880),k=n(23250);const w={Nav:"Nav3C5f8FcjkaHj",Sidebar:"Sidebar1t2G1ZJq-vU1","Sidebar-heading":"Sidebar-headingTRQyOa2pk0gh","Sidebar-link":"Sidebar-link2Dsha-r-GKh2","Sidebar-listWrapper":"Sidebar-listWrapper6Q9_yUrG906C","Sidebar-list":"Sidebar-list3cZWQLaBf9k8","Sidebar-item":"Sidebar-item23D-2Kd61_k3","Sidebar-item_active":"Sidebar-item_active1-FKX_HHmVCW","Sidebar-link-expandIcon":"Sidebar-link-expandIcon2yVH6SarI6NW","Sidebar-link-icon":"Sidebar-link-iconnjiqEiZlPn0W","Sidebar-link_deprecated":"Sidebar-link_deprecated2xLRLrwYS-C8","Sidebar-link_deprecated-icon":"Sidebar-link_deprecated-icon1TLWr7KfHfCp","Sidebar-link_hidden":"Sidebar-link_hidden3X8L0pFyfyf3","Sidebar-link-text_label":"Sidebar-link-text_label1gCT_uPnx7Gu","Sidebar-link_error":"Sidebar-link_error110RArUhmlun","Sidebar-link-pageIcon":"Sidebar-link-pageIcon2sQE9C4g_faB","Sidebar-link-externalIcon":"Sidebar-link-externalIcon1RcnjKm-3Ft8","Sidebar-link-pageIconCustom":"Sidebar-link-pageIconCustom19QTSJY06eHz","Sidebar-link-buttonWrapper":"Sidebar-link-buttonWrapper3hnFHNku8_BJ","Sidebar-link-text":"Sidebar-link-textLuTE1ySm4Kqn","Sidebar-link-deprecated":"Sidebar-link-deprecated3sPW_eEHvANR","Sidebar-method":"Sidebar-methodfUM3m6FEWm6w","Sidebar-method-container":"Sidebar-method-container2yBYD-KB_IfC",Sidebar_flyout:"Sidebar_flyout2qTF85usvHxB"},A=({activeItemRef:e,activeDoc:t,alwaysExpanded:n=!1,customIconRender:a,page:i,children:o,pathRoot:c,linkClass:d=""})=>{const u=(0,v.A)(w,"Sidebar"),m="icon"in i?i.icon:"",p="isReference"in i&&i.isReference,g="pageType"in i?i.pageType:void 0,{deprecated:f,link_external:A,link_url:x,slug:_,title:j,type:C}=i,{slug:N}=(0,h.g)(),[O,R]=(0,l.useState)(n),[D,I]=(0,l.useState)(d),z=(0,r.HD)(i),P=(0,l.useMemo)((()=>(0,r.SY)(i)),[i]),T=z?P[0].slug:_,W=z&&"link"===P[0].type,H="link"===C,L=H&&A,B=c||(p?"reference":"docs");let F;F=H?x:W?P[0].link_url:b().join("/",B,"RealtimePage"===g?"intro":"",T);const U=_===(N||t);(0,l.useEffect)((()=>{const e=(t,n)=>!(!t||0===t?.length)&&t.some((t=>t.slug===n||e((0,r.SY)(t),n))),a=e(P,N||t);I(!N&&U?`${d} active`:d),R(n||o&&(U||a)||!1)}),[n,o,U,d,P,_,t,N]);const K=H||W?({to:e,isActive:t,...n})=>l.createElement("a",{...n,"data-active":t?"":void 0,href:e},n.children):s.k2,M=e=>{e.preventDefault(),n||R(!O)},V=(0,l.useMemo)((()=>{if("function"==typeof a){const e=a(i);if(e)return l.createElement("div",{className:u("link-icon","-link-pageIconCustom")},e)}return null}),[u,a,i]),$=(0,l.useMemo)((()=>V||(m?.length?l.createElement("i",{className:u("-link-icon","-link-pageIcon",m)}):null)),[u,V,m]),G="api"in i?i.api?.method:"api_method"in i?i.api_method:null,q="renderable"in i&&i.renderable?.status||!0,Y=("endpoint"===i.type||"webhook"===i.type)&&!!G&&"RealtimePage"!==g;return l.createElement("li",{className:u("Sidebar-item",O&&"subnav-expanded")},l.createElement(K,{...U?{ref:e}:null,className:u("-link",o&&"-link_parent",f&&"-link_deprecated",i.hidden&&"-link_hidden",!q&&"-link_error",D,"text-wrap","rm-Sidebar-link"),isActive:e=>e&&!z||!1,rel:L?"noopener":void 0,target:L?"_blank":"_self",to:F},l.createElement("span",{className:u("-link-text")},$,l.createElement("span",{className:u("-link-text_label")},j),!!f&&l.createElement(k.Ay,{arrow:!1,content:"Deprecated "+("endpoint"===i.type?"Endpoint":"Doc"),interactive:!1,placement:"bottom"},l.createElement("button",{"aria-label":"Deprecated "+("endpoint"===i.type?"Endpoint":"Doc"),className:u("-link-deprecated"),type:"button"},l.createElement(S.A,{"aria-hidden":"true",color:"color-text-minimum",name:"alert-circle",size:"md",wrapperClassName:u("-link_deprecated-icon")}))),!!H&&l.createElement("i",{"aria-label":"Link opens in a new tab",className:u("-link-icon","-link-externalIcon","icon-arrow-up-right")})),!!Y&&l.createElement("span",{className:u("-method-container")},"webhook"===C&&l.createElement(S.A,{name:"webhook"}),l.createElement(E.A,{className:u("-method"),fixedWidth:!0,type:G.toLowerCase()})),!q&&l.createElement(y.A,null),o?l.createElement("button",{"aria-expanded":O,"aria-label":`${O?"Hide":"Show"} subpages for ${j}`,className:u("-link-buttonWrapper"),onClick:M,onKeyDown:e=>[" ","Enter"].includes(e.key)&&M(e),type:"button"},l.createElement("i",{"aria-hidden":"true",className:u("-link-icon","-link-expandIcon","icon-chevron-rightward")})):Y?l.createElement("div",{className:u("-link-buttonWrapper")}):null),o)},x=({activeItemRef:e,alwaysExpanded:t=!1,className:n="",linkClass:a="",pages:i,...o})=>{const s=(0,v.A)(w,"Sidebar"),c=(0,m.f8)((e=>e.isSuperHubAdmin));return l.createElement("ul",{className:s(n,"-list","rm-Sidebar-list")},i.map((i=>(0,r.me)(i,c)?l.createElement(A,{key:`page-${i.slug}`,activeItemRef:e,alwaysExpanded:t,page:i,...o},l.createElement(x,{activeItemRef:e,alwaysExpanded:t,className:"subpages",pages:(0,r.SY)(i),...o})):l.createElement(A,{key:`page-${i.slug}`,activeItemRef:e,alwaysExpanded:t,linkClass:`childless ${"subpages"===n?"subpage":a}`,page:i,...o}))))},_=x;const j=function(){const e=(0,l.useRef)(null),t=(0,l.useRef)(null),n=(0,l.useRef)(null),{hash:r,pathname:a}=(0,h.zy)();return(0,l.useEffect)((()=>{let a;if(n.current){const i=n.current.closest(".rm-Sidebar-list");i.style.display="flex";const{top:o,height:l}=n.current.getBoundingClientRect();i.style.display="";if(!(o+l<=window.innerHeight)&&t.current){const n=o>t.current.clientHeight-t.current.offsetTop,i=r?.startsWith("#");n&&!i&&window.scrollTo({top:e.current?.getBoundingClientRect().top,left:0,behavior:"smooth"});const l=n?t.current.clientHeight:o-(e.current?.clientHeight||0)/2;a=setTimeout((()=>{e.current&&(e.current.scrollTop=l)}),0)}}return()=>{a&&clearTimeout(a)}}),[r,a]),{scrollAreaRef:e,scrollContentRef:t,activeItemRef:n}},C=()=>l.createElement("div",{className:"disabled-warning"},l.createElement("i",{"aria-hidden":"true",className:"icon icon-alert-circle"})," Only admins can see this",l.createElement(s.N_,{rel:"noreferrer",target:"_blank",to:"/dash?to=usability#modules"},"Enable it for everyone ",l.createElement("i",{"aria-hidden":"true",className:"fa fa-chevron-right"}))),N=()=>{const{project:e}=(0,l.useContext)(c.vz),{subdomain:t}=e;return l.createElement("div",{className:"readme-logo",id:"readmeLogo"},"Powered byÂ ",l.createElement("a",{"aria-label":"ReadMe",href:`https://readme.com?ref_src=hub&project=${t}`,style:{color:"unset"}},l.createElement("i",{className:"icon icon-readme",style:{display:"inline-block",minWidth:71}})))},O=l.memo((({activeDoc:e,categories:t,className:n,customIconRender:r,header:a,pathRoot:i,navClass:s="",id:f})=>{const{project:b}=(0,l.useContext)(c.vz),[h,v,E]=(0,m.f8)((e=>[e.isSuperHub,e.isSuperHubAdmin,e.routeSection])),y=(0,m.Iw)((e=>"hide"===e.data.appearance.footer.readme_logo)),{scrollAreaRef:S,scrollContentRef:k,activeItemRef:A}=j(),x=(0,d.A)("(max-width: 768px)"),O=(0,l.useMemo)((()=>{const e=[...t];return e.forEach(((t,n)=>{if((0,p.zV)(E,t.title,t.pages)){const r=[...t.pages].sort(((e,t)=>{const n=e=>"api_config"in e&&null!==e.api_config?e.api_config:e.slug;return o[n(e)]-o[n(t)]})),a={...t,pages:r};e.splice(n,1),e.unshift(a)}})),v?e:e.filter((e=>e.pages.some((e=>!e.hidden))))}),[t,v,E]);return l.createElement("nav",{ref:S,"aria-label":"Secondary navigation",className:(0,g.Ay)("rm-Sidebar","hub-sidebar","reference-redesign",n,w.Nav,"docs"===i&&" rm-Sidebar_guides",s&&s,x&&w.Sidebar_flyout),id:f||"hub-sidebar",role:"navigation"},a,l.createElement("div",{ref:k,className:`${w.Sidebar} rm-Sidebar hub-sidebar-content`},!h&&!(b?.modules?.[i||""]||"edit"===i)&&l.createElement(C,null),Array.isArray(O)&&O.map((({title:t,pages:n,slug:a,uri:o})=>{const s=h&&(0,p.zV)(E,t,n);return l.createElement("section",{key:a??o,className:`${w["Sidebar-listWrapper"]} rm-Sidebar-section`},!s&&l.createElement("h2",{className:`${w["Sidebar-heading"]} rm-Sidebar-heading`},t),l.createElement(_,{activeItemRef:A,alwaysExpanded:x,activeDoc:e,customIconRender:r,pathRoot:i,pages:n}))})),!((0,u.A)(b?.plan,"whitelabel")||y)&&l.createElement(N,null)))}))},60759:(e,t,n)=>{n.d(t,{A:()=>r});n(81203);function r(e,t){var n,r;if(!e||!t)return!1;if(e.isGod)return!0;if(!(null===(n=t.childrenProjects)||void 0===n||!n.length)){var a,i=null===(a=e.permissions)||void 0===a?void 0:a.find((function(e){return e.project===t._id}));return!(!i||"readonly"===i.userType&&e.isEndUser)}var o=t._parent||t.parent;if(o){var l,s=null===(l=e.permissions)||void 0===l?void 0:l.find((function(e){return e.project===o._id}));if(s)return!("readonly"===s.userType&&e.isEndUser)}var c=null===(r=e.permissions)||void 0===r?void 0:r.find((function(e){return e.project===t._id})),d="readonly"===(null==c?void 0:c.userType)&&e.isEndUser;return!!c&&!d}},63784:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(49555),a=n(14041);const i=function(e){var t=(0,a.useState)(!1),n=(0,r.A)(t,2),i=n[0],o=n[1];return(0,a.useEffect)((function(){var t=window.matchMedia(e);o(!!t.matches),t.onchange=function(e){return o(!!e.matches)}}),[e]),i}},71075:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(58160),a=n(14041),i=n(5430),o=n(67136),l=n(32816),s=n(92207),c=n.n(s),d=(n(22866),n(83902),n(18586),n(74397),n(3260),n(81198),n(16349),n(23922),n(96837),n(57627),n(86090)),u=n(13202),m=n(20775),p=n(49555),g=(n(68392),n(61629),n(97132),n(93849),n(8947),["endpoint","origin","protocol"]);const f=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.endpoint,o=(t.origin,t.protocol,(0,r.A)(t,g),(0,d.zy)().search),l=(0,a.useContext)(i.vz).project,s=l.flags;l.parent;if("undefined"==typeof window)return"";var c=l.siblings||[];c.length&&(e={childrenProjects:c.map((function(e){return e.subdomain}))});var u=new i.V0({child:Boolean(c.length),hasOneChild:!(null==s||!s.singleProjectEnterprise),parent:e,project:l}).relative(n).split("?"),m=(0,p.A)(u,2),f=m[0],b=m[1],h=new URLSearchParams(void 0===b?o:b);return h.set("json","on"),h.toString().length>0&&(f="".concat(f,"?").concat(h.toString())),f};var b=n(927);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E="/404";function y(e){return S.apply(this,arguments)}function S(){return(S=(0,l.A)(c().mark((function e(t){var n,r,a,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{redirect:"follow",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(n=e.sent,r=n.headers.get("Content-Type"),!["application/json","application/problem+json"].some((function(e){return null==r?void 0:r.includes(e)}))){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=void 0;case 12:if(a=e.t0,i=n.redirected?new URL(n.url).pathname:void 0,n.ok){e.next=20;break}throw(o=new Error('An error occurred while fetching "'.concat(t,'"'))).status=n.status,o.statusText=n.statusText,o.url=t,o;case 20:return e.abrupt("return",{redirected:n.redirected,redirectedPath:i,json:a});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=["meta"];function w(e,t){var n=(0,a.useContext)(i.y0).updateAppMeta,o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f(),r=(0,d.W5)(),o=(0,d.g)(),l=(0,d.zy)(),s=(0,d.W6)(),c=(0,a.useContext)(i.vz).project,p=(0,a.useContext)(i.IT),g=(0,b.f8)((function(e){return e.isSuperHub})),h=(0,m.A)(),S=h.isClient,k=h.isServer,w=n||S&&window.location||"/",A=!g&&"/reference"===l.pathname&&l.hash.startsWith("#"),x=(0,a.useMemo)((function(){if(k&&Object.keys(t).length)return!0;var e=w.split(/(?:\?|&)json=on/)[0];return[t.reqUrl,t.slugUrl].includes(e)}),[w,t,k]);(0,a.useEffect)((function(){if(A){var e=l.hash.replace("#","");s.replace("/reference/".concat(e))}}),[s,A,l.hash]);var _=(0,u.Ay)(x?null:w,y,{fallbackData:x&&!A?{json:t,redirected:!1}:void 0,revalidateOnFocus:!1}),j=_.data,C=void 0===j?{}:j,N=C.json,O=C.redirected,R=C.redirectedPath,D=_.error,I=_.mutate,z=_.isValidating,P=!!N&&!O,T=!(null===(e=null==R?void 0:R.startsWith(p))||void 0===e||e),W=!!D&&!D.status,H=401===(null==D?void 0:D.status),L=!(null==c||!c.internal);(0,a.useEffect)((function(){if(L&&(H||W)){var e="password"===c.internal,t="redirect=".concat(window.location.pathname);window.location.assign(e?"/password?".concat(t):"/login?".concat(t))}}),[H,W,L,c.internal]),(0,a.useEffect)((function(){(404===(null==D?void 0:D.status)||null!=N&&N.is404)&&!x&&s.replace(E)}),[D,s,x,null==N?void 0:N.is404]),(0,a.useEffect)((function(){if(P&&"function"==typeof $){var e=null==N?void 0:N.meta;$(window).trigger("pageLoad",{meta:e,params:o,opts:v({reactApp:"on"},r),hash:window.location.hash,name:null==e?void 0:e.type})}}),[P,null==o?void 0:o.slug,null==r?void 0:r.url]);var B=R;return B&&O&&(T?(window.location.replace(B),null!=N&&N.doc&&(N.doc={})):(B=B.replace(p,"")).startsWith("/")||(B="/".concat(B))),{data:N,loading:T||!D&&!N,redirected:O&&!T,redirectedPath:B,error:D,mutate:I,validating:z}}(e),l=o.data,s=void 0===l?{}:l,c=s.meta,p=(0,r.A)(s,k),g=o.error,h=o.loading,S=o.mutate,w=o.redirected,A=o.redirectedPath,x=o.validating;return(0,a.useEffect)((function(){c&&("function"==typeof t&&t(c),n(c))}),[c]),{loading:h,state:p,meta:c,redirected:w,redirectedPath:A,error:g,mutate:S,validating:x}}},26635:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var r=n(32816),a=n(49555),i=n(58160),o=n(67136),l=n(92207),s=n.n(l),c=(n(93849),n(64982),n(74509),n(61629),n(3260),n(83902),n(16349),n(23922),n(96837),n(57627),n(35468)),d=n(39067),u=n.n(d),m=n(14041),p=n(33664),g=n(86090),f=n(5430),b=n(52114),h=n(60759),v=n(71075),E=n(46517),y=n(27068),S=n(94569),k=n(3159),w=n(10880),A=n(22246),x=n(916),_=n(44306),j=n(47168),C=n(97495),N=n(30309),O=n(97971),R=n(75318),D=n(23250),I=(n(18119),n(81198),["parent"]);const z=function(e,t,n){var r=n.parent,a=(0,i.A)(n,I),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return["http://".concat((null==r?void 0:r.subdomain)||a.subdomain,".").concat(t),t.endsWith(".local")?":3000/":"/",!o&&r&&"".concat(a.subpath||a.subdomain,"/"),e,"?staging=1"].filter(Boolean).join("").replace(/([^:])\/{2,}/g,"$1/")},P={SuggestionsEditor:"SuggestionsEditor3wucY8j6R-Jt","SuggestionsEditor-content":"SuggestionsEditor-content2BXLh6Jd9ck7","SuggestionsEditor-form":"SuggestionsEditor-formE9b8FM5kGGWE","SuggestionsEditor-header":"SuggestionsEditor-header-Z1pQVbxV1i_","SuggestionsEditor-header-actions":"SuggestionsEditor-header-actions2vvrk-hNJYP3","SuggestionsEditor-header-title":"SuggestionsEditor-header-title3ZjBvMfTWRGT","SuggestionsEditor-header-excerpt":"SuggestionsEditor-header-excerpt1aUtZap_ARGy","SuggestionsEditor-body":"SuggestionsEditor-body3PLatZAV421N","SuggestionsEditor-spinner":"SuggestionsEditor-spinner3fLAK2P4Rrul"};var T=["sidebars","activeDoc"],W=["doc"];function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){e.style.height="",e.style.height="".concat(e.scrollHeight,"px")},F=function(e){var t=e.to,n=void 0===t?"":t,r=e.children,a=(0,m.useContext)(f.tA),i=a.stagingEnv,l=a.isParent,s="prod"===i,c=(0,m.useContext)(f.QO).domain,d=(0,m.useContext)(f.vz).project,u=s?z(n,c,d,l):n,g=s?"a":p.N_,b=(0,o.A)({children:r,target:s&&"_blank"},s?"href":"to",u);return m.createElement(g,b)};F.propTypes={to:u().string};var U=function(e){var t,n=e.sidebars,o=e.activeDoc,l=(0,i.A)(e,T),d=(0,m.useRef)(),u=(0,m.useRef)(),p=(0,m.useRef)(),I=(0,b.A)(P,"SuggestionsEditor"),z=(0,m.useContext)(f.IT),H=(0,m.useContext)(f.Wv),U=(0,g.W6)(),K=(0,g.zy)(),M=(0,m.useContext)(f.ao),V=(0,m.useContext)(f.jT),$=(0,m.useContext)(f.QO).domainFull,G=(0,m.useContext)(f.vz).project,q=(0,m.useContext)(f.tA).stagingEnv,Y=(0,m.useContext)(f.Rs),Q=(0,h.A)(Y,G),J=(0,m.useContext)(f.se),X=J.version_clean,Z=J.version,ee=(0,E.A)(),te=ee.isLoggedIn,ne=ee.isAdminUser,re=(0,v.A)(l),ae=re.state,ie=ae.doc,oe=(0,i.A)(ae,W),le=re.loading,se=re.mutate,ce=(0,m.useState)(!1),de=(0,a.A)(ce,2),ue=de[0],me=de[1],pe=(0,m.useState)(!0),ge=(0,a.A)(pe,2),fe=ge[0],be=ge[1],he=(0,m.useState)(!1),ve=(0,a.A)(he,2),Ee=ve[0],ye=ve[1],Se=(0,m.useState)(),ke=(0,a.A)(Se,2),we=ke[0],Ae=ke[1];(0,m.useEffect)((function(){te||(window.location="".concat($,"/to/").concat(G.subdomain,"?redirect=").concat(K.pathname));var e=p.current;return function(){null==e||e.toggle(!1)}}),[]),(0,m.useEffect)((function(){u.current&&B(u.current)}),[null==ie?void 0:ie.excerpt]),(0,m.useEffect)((function(){return be(!0),function(){o=""}}),[K.pathname,u.current]);var xe=function(){return U.push("/docs/".concat(null==ie?void 0:ie.slug))},_e=function(){var e=(0,r.A)(s().mark((function e(t){var n,r,a,i,o,l,u,p,g,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe){e.next=18;break}return me(t?"suggest":"save"),r=we?(0,_.lK)({children:we}):null==ie?void 0:ie.body,a=Object.fromEntries(new FormData(d.current).entries()),i="/"===H?"":H,o="".concat(t?"suggested":"save","-edits"),l="".concat(i,"/api/v").concat(X,"/").concat(o),u=L(L({},a),{},{body:r,slug:null==ie?void 0:ie.slug,_id:null==ie?void 0:ie._id,edited:!0}),t&&(u=L(L({},t),{},{edited:u})),e.next=11,fetch(l,{headers:{"Content-Type":"application/json","X-XSRF-TOKEN":null!==(n=c.A.get("XSRF-TOKEN"))&&void 0!==n?n:""},body:JSON.stringify(u),method:"POST",mode:"cors",credentials:"include"});case 11:return p=e.sent,e.next=14,p.text();case 14:g=e.sent;try{g=JSON.parse(g)}catch(e){}t?g._id?(ye(g),be(!0)):(0,C.me)(m.createElement(C.Ay,{dismissible:!0,kind:"error",position:"bottom-center"},"Couldnât ",t?"submit suggestion":"save","â¦")):"saved"===g.toLowerCase()&&(f=L(L(L({},ie),a),{},{body:r}),se(L(L({},oe),{},{doc:f}),{revalidate:!0,populateCache:!1}),be(!0),U.push("/docs/".concat(ie.slug))),me(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=m.createElement(D.Ay,{content:Ee?"Back to ".concat((null==ie?void 0:ie.title)||"doc"):"Continue editingâ¦",delay:500},m.createElement(y.A,{circular:!0,ghost:!0,kind:"minimum",onClick:function(){Ee?xe():p.current.toggle(!1)},size:"sm"},m.createElement(w.A,{name:"x"})));return m.createElement(m.Fragment,null,m.createElement(g.XG,{message:function(){return"Are you sure you want to leave this page? Any unsaved changes will be lost."},when:!fe}),m.createElement("div",{key:K.pathname,className:I("&",le&&"_loading","rm-Guides","rm-SuggestionsEditor")},m.createElement("div",{className:I("rm-Edits","rm-Container rm-Container_flex")},m.createElement(N.A,{activeDoc:o,categories:(null==n?void 0:n.docs)||[],pathRoot:"edit"}),le?m.createElement("div",{className:I("-spinner")},m.createElement(O.A,{size:"lg"})):m.createElement("div",{className:I("-content")},m.createElement("form",{ref:d,className:I("-form"),onChange:function(){return be(!1)}},m.createElement("header",{className:I("-header")},m.createElement("div",{className:I("-header-actions")},m.createElement("h1",{className:I("-header-title")},m.createElement("input",{defaultValue:null==ie?void 0:ie.title,name:"title"})),m.createElement(D.Ay,{content:fe?"Cancel":"Discard changesâ¦",delay:[500,0]},m.createElement(y.A,{ghost:!0,kind:"destructive",onClick:xe,size:"sm"},m.createElement(w.A,{name:"x-circle"}))),!!ne&&m.createElement(D.Ay,{content:"Publish as adminâ¦",delay:[1e3,0]},m.createElement(y.A,{disabled:fe,kind:"primary",loading:"save"===ue,onClick:function(e){e.preventDefault(),_e()},outline:!0,size:"sm",type:"submit"},m.createElement(w.A,{name:"save"}),"Save")),m.createElement(y.A,{disabled:fe,onClick:function(e){e.preventDefault(),p.current.toggle()},size:"sm"},m.createElement(w.A,{name:"suggested-edits"}),"Suggest")),m.createElement("textarea",{ref:u,className:I("-header-excerpt"),defaultValue:null==ie?void 0:ie.excerpt,name:"excerpt",onInput:function(e){return B(e.target)},placeholder:"Excerptâ¦",rows:1}))),m.createElement("hr",null),m.createElement("main",{className:I("-body","markdown-body")},m.createElement(x.A,{disallowCustomBlocks:!0,disallowHtmlBlocks:!(ne||null!=G&&null!==(t=G.flags)&&void 0!==t&&t.allowUnsafeCustomHtmlSuggestionsFromNonAdmins),doc:null==ie?void 0:ie.body,domainFull:$,glossaryTerms:M,onChange:function(e){Ae(e),be(!1)},projectBaseUrl:z,reusableContentMode:"suggested-edits",subdomain:G.subdomain,variableDefaults:V.defaults,version:Z}))))),m.createElement(j.Ay,{ref:p,onClose:function(e){Ee&&["escapeKey","clickOut"].includes(e)&&xe()},size:"md",target:"#suggestion-submit-modal",verticalCenter:!0},m.createElement("form",{id:"suggestion-submit-details"},m.createElement(j.rQ,null,m.createElement("div",null,m.createElement("h2",{style:{margin:0}},"Suggest Edits"),m.createElement("small",null,"on ",m.createElement("em",null,null==ie?void 0:ie.title))),je),Ee?m.createElement(m.Fragment,null,m.createElement(j.cw,null,"Your suggestion has been submitted","prod"!==q||Q?"!":" for review."),!("prod"===q&&!Q)&&m.createElement(j.jl,null,m.createElement(F,{to:"/suggested-edits/".concat(Ee._id)},"off"!==q&&Q?m.createElement(S.A,{align:"center",gap:3,tag:"b"},"View Staged Suggestion","prod"===q&&m.createElement(w.A,{name:"external-link"})):m.createElement("b",null,"View Suggestion")))):m.createElement(m.Fragment,null,m.createElement(j.cw,null,m.createElement(k.A,{htmlFor:"name",label:"Title"},m.createElement(A.A,{name:"name",required:!0,style:{width:"100%"},type:"text"})),m.createElement("br",null),m.createElement(k.A,{description:"(optional)",htmlFor:"comment",label:"Description"},m.createElement(R.A,{autoGrow:!0,name:"comment",placeholder:"A longer description of your changesâ¦",resize:"none"}))),m.createElement(j.jl,null,m.createElement(y.A,{loading:"suggest"===ue,onClick:function(e){var t=p.current.el.current.querySelector("form#suggestion-submit-details");if(t.checkValidity()){e.preventDefault();var n=Object.fromEntries(new FormData(t).entries());_e(n)}},size:"sm",type:"submit"},m.createElement(w.A,{name:"suggested-edits"}),"Submit"))))),m.createElement("div",{className:"ModalWrapper",id:"suggestion-submit-modal"}))};U.propTypes={activeDoc:u().string,doc:u().shape({body:u().string,excerpt:u().string,title:u().string}),meta:u().object,sidebars:u().shape({docs:u().array})};const K=U}}]);
//# sourceMappingURL=Editor.95bd762e089265996ddc.js.map